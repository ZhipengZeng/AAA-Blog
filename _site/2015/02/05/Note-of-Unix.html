<!doctype html>
<html>
<head>
<meta charset="utf-8" />
<title>Note of Unix</title>
<link href="/AAA-Blog/styles/native.css" type="text/css" rel="stylesheet" />
<link href="/AAA-Blog/styles/default.css" type="text/css" rel="stylesheet" />
</head>
<body>
<header>
	<h1>Zhipeng - Blog</h1>
</header>
<nav>
<ul>
	<li><a href="/AAA-Blog/index.html" title="home">Home</a></li>
    <li><a href="/AAA-Blog/aboutme.html" title="aboutme">About Me</a></li>
</ul>
</nav>
<div id="content">
    <h2 id="a-note-of-unix-problems-i-met-keep-updating">A Note of Unix Problems I Met (keep updating)</h2>
<ol>
  <li><code>&gt;</code> and <code>&gt;&gt;</code>
    <ul>
      <li><code>&gt;</code> writes to a file, overwriting any existing contents.	 </li>
      <li><code>&gt;&gt;</code> appends to a file.</li>
    </ul>
  </li>
  <li>Here is a shell script for creating a amount of users from imported file</li>
</ol>

<div class="highlight"><pre><code class="language-sh" data-lang="sh">#!/bin/bash  
if [ $# -ne 1 ]  
then    
    echo USAGE: $0 filename.csv  
    exit 1  
fi  
grep -i &quot;^students&quot; /etc/group
if [ $? -ne 0 ]
then
    groupadd students
fi
while read line  
do  
    FIRST=`echo $line | cut -d &#39;&quot;&#39; -f2 | cut -d &#39;,&#39; -f2`  
    LAST=`echo $line | cut -d &#39;&quot;&#39; -f2 | cut -d &#39;,&#39; -f1`  
    NAME=&quot;$FIRST $LAST&quot;  
    USERID=`echo $line | cut -d &#39;,&#39; -f3`  
    HOMEDIR=&quot;/home/${USERID}&quot;  
    GROUPNAME=students  
    STARTUPSHELL=/bin/bash  
    useradd -g ${GROUPNAME} -p `(echo ${USERID}; sleep 1; echo ${USERID}) | grub-md5-crypt 2&gt; /dev/null | tail -1` -d ${HOMEDIR} -m -s ${STARTUPSHELL} -c ${NAME} ${USERID}  
done &lt; $1  
exit 0</code></pre></div>

</div>
<footer>
	<p>Copyright &copy; 2014 | <a href="mailto:keviniszzp@gmail.com" target="_blank" title="mail to: keviniszzp@gmail.com">Zhipeng Zeng</a></p>
	<p>Proudly hosted by <a href="http://github.com"><img src="/AAA-Blog/images/github-logo.png" alt="Github" width="80px" height="24px" /></a></p>
</footer>
</body>
</html>